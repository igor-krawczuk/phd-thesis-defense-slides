% !TeX root = presentation.tex
\documentclass[./presentation.tex]{subfiles}
\begin{document}
%MOTIVATION: circuit design, but we go abstract
\newcounter{myframerevealcnt}[framenumber]
%command to access value without/with an offset
\newcommand{\mfrc}{\value{myframerevealcnt}}
\newcommand{\mfrco}[1]{\numexpr{\value{myframerevealcnt}+#1}}
%step/reset myframerevealcnt
\newcommand{\stepmfrc}{\stepcounter{myframerevealcnt}}
\newcommand{\resetmfrc}{\setcounter{myframerevealcnt}{1}}
\begin{frame}[label=workingonly,t]
  %TODO
  %ADD slide motivating circuit design (AI chips etc
  %%ADD cietation for the "dark art" thing
  % add image of a circuit
  %NOTE
  %WHAT does this thesis do
  \frametitle{Motivation: Circuit Design Matters}
  \centering
  \resetmfrc{}
  \only<\mfrc{}>{
  \vspace{-1cm}
    Worldwide Semiconductor industry revenue
  \includegraphics[height=0.7\textheight]{./images/statista_semi_market_2024-02-23_08-42.png}\\
Source: \href{}{Statista}\\
\vspace{1cm}
}
\end{frame}
\begin{frame}[label=workingonly,t]
  %TODO
  %ADD slide motivating circuit design (AI chips etc
  %%ADD cietation for the "dark art" thing
  % add image of a circuit
  %NOTE
  %WHAT does this thesis do
  \frametitle{Motivation: Circuit Design to Graph Generation}
  \centering
  \resetmfrc{}
  \only<\mfrc{}>{Circuit Design =}
\stepmfrc{}
\only<\mfrc{}>{
\begin{columns}
  \begin{column}{0.5\textwidth}
    \includegraphics[height=0.8\textheight]{./tikz-figs/designflow/flow.pdf}
  \end{column}
  \begin{column}{0.5\textwidth}
    \includegraphics[height=0.8\textheight]{./tikz-figs/layout-gen/layoutgen.pdf}
  \end{column}
\end{columns}
}
%%
\stepmfrc{}
\only<\mfrc{}->{
  {\large 
  \only<\mfrco{3}->{\emph{Automated }}\visible<\mfrc{}->{Circuit Design =}\\
    \stepmfrc{}
%
    \only<\mfrc{}>{Specification +\\ Circuit Topology Design +\\ Layout Creation}
      \stepmfrc{}
      \only<\mfrc{}->{\uncover<0>{Specification +}\\}
      \only<\mfrc{}>{Circuit Topology Design +\\ Layout Creation}% human level, out of scope
      \stepmfrc{}
      \only<\mfrc{}>{Circuit Topology \emph{Generation} +\\ Layout \emph{Generation}}% not technical
      \stepmfrc{}
  \only<\mfrc{}>{\emph{Graph} Generation}
  \only<\mfrco{1}>{$\underbrace{\text{\emph{Graph} Generation}}_{\text{this thesis}}$} +\\ \uncover<\mfrc{}>{
 \emph{Physics Constrained Graph Drawing} \ffootnote{\cite{aggarwalMultilayerGridEmbeddings1985,chungEmbeddingGraphsBooks1987,gebotysOptimalVLSIArchitectural2012,shaulyDesignRulesSemiconductor2022}}
}
%    % abstract
%}
  }%\large
}%\only

%TODO: maybe add images as interludes in the automation for constraints
\end{frame}
\begin{frame}[label=working]
  %WHAT is our approach and why is it novel
\frametitle{Topology Synthesis: From Macros to Graphs}
% motivate why the netlist is the right abstraction level *and* why prior art didn't deal with them directly
\begin{columns}
  \begin{column}{0.5\textwidth}
  {\tiny
      \begin{itemize}
        \item industry has various subtly different variations: physical synthesis, high level synthesis,logic synthesis, topology synthesis\\\visible<2->{$\Rightarrow$ for our purposes, all the same }
        \item prior work going back to 1957 generally approaches synthesis as a special instance of Church's problem \cite{churchApplicationRecursiveArithmetic1963}, i.e. special case of program synthesis.
       \item Circuit topology is modeled as a string of symbols representing circuit functionality, from which a topology is then inferred. Some work explores other representations \citep{rojecAnalogCircuitTopology2018} but majority of work \citep{fanSpecificationTopologyAutomatic2021f,zhaoAutomatedTopologySynthesis2022a,fayaziAnGeLFullyAutomatedAnalog2023a,dasilvaAutoTGReinforcementLearningBased2023} does not conceive of a circuit as a \emph{graph} but instead as a \emph{sequence of hierarchical symbols} with a clear ordering
     \end{itemize}
   }
  \end{column}%
  \begin{column}{0.5\textwidth}
  \centering
  \includegraphics[width=\columnwidth,height=0.40\textheight]{example-image-a}\\%netlist code,textual vis}
  \includegraphics[width=\columnwidth,height=0.40\textheight]{example-image-b}%netlist graph}
  \end{column}
\end{columns}
\end{frame}

\begin{frame}[label=todo]
\frametitle{Why Represent Topologies as Graphs}
%WHY is it beneficial (also add abstraction as a virtue)
\begin{itemize}
  \item automatically encode topological isomorphisms (note: might not be enough for \emph{circuit} isomorphisms \cite{wangFunctionalityMattersNetlist2022c}
  \item naturally captures relational and compositional structure
  \item amenable to preserving notions of locality non-planar, high dimensional structure (important for multi-layer layouting)
  \item naturally abstracts the level in the hierachy away and subsumes prior modeling - building blocks, devices, subcircuits all become nodes
\end{itemize}
\end{frame}

\begin{frame}[label=working]
  \frametitle{Topologies are Netlists are Graphs}
  \begin{itemize}
    \item For the purpose of the thesis, a circuit $\Circ$ is just an attributed graph $\gG\coloneq \lbrace\gE,\gV,\gY \rbrace$.
    \item In general,we represent each edge,node and global feature as vectors $\edge_{ij},\node_i,\globaly_k \in \bbR{d_e/d_v/d_{y_k}}$ and aggregate them into tensors $\edges\in\bbR{n\times n \times d_e},\nodes\in\bbR{n\times d_v},\globalyall\in\bbR{d_y=\sum_k d_{y_k}}$
    \item specific device and sub-circuits, their parametrization, special input/output nodes etc. are all encoded in these attributes
    %\item further optimization, e.g. \cite{jangSimpleScalableRepresentation2023a}
  \end{itemize}
\end{frame}

\begin{frame}[label=working]
\frametitle{SotA Topology Synthesis}
\begin{itemize}
  \item show \cite{zhaoAutomatedTopologySynthesis2022a} work, comment on it in images
  \item show BAG, other sota
  \item comment: all based on rewriting rules and constructions
  \item ML based methods taxonomy
\end{itemize}
\end{frame}

  
\end{document}

