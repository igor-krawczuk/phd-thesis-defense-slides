\usepackage[utf8]{inputenc}
\usepackage{graphicx}
% --- Fonts ---
\usepackage[french,german,english]{babel}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% EDOC THESIS TEMPLATE: Variant 1.0 -> Latin modern, large text width&height
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


\usefonttheme{professionalfonts}
\usepackage{lmodern} % use this to fix blurry typewriter text font
%\usepackage[scaled=1.24]{nimbusmononarrow}% typewriter font
\usepackage{nimbusmononarrow}% typewriter font
%\usepackage[scale=1.11,sfdefault,pf,osf,subscriptcorrection]{notomath}
\usepackage{notomath}
% load NotoSans as mainfont, then newtxmath with option notosans
% option subscriptcorrection passed to newtxmath
%\usepackage[book,medium,scaled=1,sfdefault]{FiraSans}
%\setmainfont{NotoSans}
%\usepackage{sourcesanspro}
%\usepackage{sourcecodepro}
\usepackage[T1]{fontenc}
\usepackage{amsmath,amssymb,amsthm,bm,amsfonts}
%\usepackage[italic,eulergreek,symbolmisc]{mathastext}
%\usepackage{mathastext}
\usepackage{url}

% Microtypography
\usepackage{microtype}
\usepackage{mathtools}
%\DisableLigatures[f]{encoding = *, family = * }

% Correct spacing around letters in math
%\MTsetmathskips{y}{1mu}{0mu}
%\MTsetmathskips{j}{1.5mu}{0mu}

% --- Beamer theme ---

\usetheme{Boadilla}
\usecolortheme[]{seagull}
\setbeamercovered{transparent}
\setbeamertemplate{navigation symbols}{}
%define colors
\colorlet{myblack}{black!85!}
\colorlet{mygray}{gray!60!}

% --- Font sizes and shapes ---

\setbeamerfont{title}{size=\huge, series=\scshape}
\setbeamerfont{author}{size=\large}
\setbeamerfont{frametitle}{series=\scshape}
\setbeamertemplate{frametitle}{\MakeLowercase{\insertframetitle}\newline\textcolor{gray!60}{\small{\insertframesubtitle}}}
%\setbeamertemplate{frametitle}{\textbf{\insertframetitle}\\\insertframesubtitle}
\setbeamertemplate{frametitle continuation}{[\insertcontinuationcount]}
\setbeamerfont{itemize/enumerate subbody}{size=\normalsize}
\setbeamerfont{button}{size=\footnotesize}
\setbeamerfont{framesubtitle}{series=\scshape,size=\tiny}

% --- Spacing ---

\usepackage[onehalfspacing]{setspace}
\setbeamertemplate{title page}[default][left,leftskip=-8pt]
%\addtobeamertemplate{frametitle}{\vskip3mm}{}
\setbeamersize{text margin left=5mm,text margin right=5mm}

% --- Color ---

\setbeamercolor{title}{fg=myblack}
\setbeamercolor{frametitle}{fg=myblack}
\setbeamercolor{framesubtitle}{fg=mygray}
\setbeamercolor{normal text}{fg=myblack}
\setbeamercolor{itemize item}{fg=mygray}
\setbeamercolor{itemize subitem}{fg=mygray} 
\setbeamercolor{enumerate item}{fg=mygray} 
\setbeamercolor{enumerate subitem}{fg=mygray}
\setbeamercolor{footline}{fg=mygray}
\setbeamercolor{button}{fg=mygray, bg=white}

% --- Slide numbers ---

% No slide numbers by default
%\setbeamertemplate{footline}{}

% Uncomment the line below to insert slide numbers
\setbeamertemplate{footline}[frame number]

% --- Title slide ---

% % Title capitalization and underline
\let\oldtitle\title
\renewcommand{\title}[1]{\oldtitle[]{\MakeLowercase{#1}\vspace{-5mm}\\\color{myblack}{\rule{\textwidth}{2pt}}\vspace{1cm}}}

% Paper information
\usepackage{xparse}
\NewDocumentCommand{\information}{o g g}{%
\author[]{#2%
\IfValueT{#3}{\vspace{5mm}\\#3}%
\IfValueT{#1}{\vspace{5mm}\\\color{mygray}{\footnotesize #1}}%
}\date[]{}}

% --- Lists ---

\setbeamertemplate{itemize item}{\textbullet}
\setbeamertemplate{itemize subitem}{\textendash} 
\setbeamertemplate{enumerate item}[default]
\setbeamertemplate{enumerate subitem}[default]
\setbeamertemplate{enumerate subitem}{\alph{enumii}.}

% --- Alerts ---

% Standard alert
\NewDocumentCommand{\al}{o g}{%
\IfNoValueTF{#1}{\textcolor{RubineRed}{#2}}%
{\textcolor<#1>{RubineRed}{#2}}}

% Green alert
\NewDocumentCommand{\alg}{o g}{%
\IfNoValueTF{#1}{\textcolor{Green}{#2}}%
{\textcolor<#1>{Green}{#2}}}

% Red alert
\NewDocumentCommand{\alr}{o g}{%
\IfNoValueTF{#1}{\textcolor{Red}{#2}}%
{\textcolor<#1>{Red}{#2}}}

% Blue alert
\NewDocumentCommand{\alb}{o g}{%
\IfNoValueTF{#1}{\textcolor{NavyBlue}{#2}}%
{\textcolor<#1>{NavyBlue}{#2}}}

% --- Tables & figures  ---

\usepackage{multirow,booktabs}

% Captions
\usepackage{caption}
\captionsetup{labelformat=empty,size=normalsize}

% Centered figures
\let\oldincludegraphics\includegraphics 
\renewcommand{\includegraphics}[2][]{\centering\oldincludegraphics[#1]{#2}}

% --- Section slide ---

\newcommand{\heading}[1]{\LARGE\scshape\color{myblack}\singlespacing\MakeLowercase{#1}\vspace{-3mm}\\\color{myblack}{\rule{\textwidth}{2pt}}}

% --- Pictograms ---

\def\up{\textuparrow\,}
\def\down{\textdownarrow\,}
\def\flat{\textrightarrow\,}
\def\then{$\rightsquigarrow\,$}
\def\so{{$\implies$}}
\def\iff{{$\shortiff$}}
% tikz definitions
\usepackage{tikz}
\usetikzlibrary{
  arrows.meta,                        % for arrow tips
  backgrounds,                        % for background layer
  bending,
  ext.paths.ortho,                    % for ortho paths
  positioning,
  ext.positioning-plus,               % for 
  ext.node-families.shapes.geometric, % loads ext.node-families and
% shapes.geometric,                   % for ellipse
  calc,                               % for ($$)
  backgrounds, %https://tex.stackexchange.com/questions/230224/how-to-change-the-background-color-in-tikz
  overlay-beamer-styles,
}

% --- Last slide ---

\newcommand{\lastslide}{{\setbeamercolor{normal text}{bg=mygray}\begin{frame}\end{frame}}}
\usepackage{ragged2e}
%
\usepackage[style=authoryear,backend=biber,sorting=none]{biblatex}
\renewcommand*{\finalnamedelim}{%
  \ifnumgreater{\value{liststop}}{2}{}{}%
  \addspace\&\addspace}
%stick with full name for now, do the shorter one for later
%\usepackage[style=alphabetic,backend=biber,sorting=none]{biblatex}
\addbibresource{./bibexport.bib}

\newcommand{\citep}[1]{(\cite{#1})}
\newcommand{\citet}[1]{\cite{{#1}}}
\usepackage{dsfont}
\newcommand{\ffootnote}[1]{\footnote[frame]{#1}}
%\usepackage{hyperref}
%\counterwithout{footnote}{frame}
\AtBeginEnvironment{frame}{\setcounter{footnote}{0}}

\makeatletter
\def\th@mystyle{%
    \normalfont % body font
    \setbeamercolor{block title example}{bg=orange,fg=white}
    \setbeamercolor{block body example}{bg=orange!20,fg=black}
    \def\inserttheoremblockenv{exampleblock}
  }
\makeatother
\theoremstyle{mystyle}
\newtheorem*{priorart}{Prior SotA \& Foundations}
\makeatletter
\def\th@mycontribstyle{%
    \normalfont % body font
    \setbeamercolor{block title example}{bg=MidnightBlue,fg=white}
    \setbeamercolor{block body example}{bg=MidnightBlue!20,fg=black}
    \def\inserttheoremblockenv{exampleblock}
  }
\makeatother
\theoremstyle{mycontribstyle}
\newtheorem*{contributions}{Contributions}
\makeatletter
\def\th@myoutcomestyle{%
    \normalfont % body font
    \setbeamercolor{block title example}{bg=ForestGreen,fg=white}
    \setbeamercolor{block body example}{bg=ForestGreen!20,fg=black}
    \def\inserttheoremblockenv{exampleblock}
  }
\makeatother
\theoremstyle{myoutcomestyle}
\newtheorem*{outcomes}{Outcomes, Strengths\textuparrow \& Limitations\textdownarrow}
\makeatletter
\def\th@myimpactstylestyle{%
    \normalfont % body font
    \setbeamercolor{block title example}{bg=Maroon,fg=white}
    \setbeamercolor{block body example}{bg=Maroon!20,fg=black}
    \def\inserttheoremblockenv{exampleblock}
  }
\makeatother
\theoremstyle{myimpactstylestyle}
\newtheorem*{impact}{Impact}
